<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>9omoly</title>
<style>
  body { 
    background:black; 
    color:white; 
    font-family:Arial,sans-serif; 
    display:flex; 
    flex-direction:column; 
    align-items:center; 
    padding:20px;
  }
  h1 { 
    font-family: 'Comic Sans MS', cursive, sans-serif; 
    color:orange; 
  }
  #instructions {
    margin-bottom:10px;
    font-size:0.9em;
    color:#ccc;
    max-width:400px;
    text-align:center;
  }
  .board { 
    display:grid; 
    grid-template-columns: repeat(3, 100px); 
    gap:10px; 
    margin:20px 0; 
  }
  .cell { 
    background:#222; 
    padding:20px; 
    text-align:center; 
    cursor:pointer; 
    border-radius:10px; 
    font-weight:bold; 
    font-size:1.2em; 
    transition: all 0.3s; 
  }
  .cell.correct { 
    background:green; 
  }
  .cell.wrong { 
    background:red; 
    opacity:0.6; 
  }
  #result { 
    margin-top:20px; 
    font-size:1.2em; 
    color:orange; 
    text-align:center;
  }
  #rule { 
    margin-top:15px; 
    font-size:1em; 
    color:#fff; 
    text-align:center;
    display:none;
    max-width:400px;
  }
  footer {
    margin-top:30px;
    font-size:0.8em;
    color:#888;
  }
</style>
</head>
<body>

<h1>9omoly</h1>
<div id="instructions">Click the item you think is the outlier!</div>
<div class="board" id="board"></div>
<div id="result"></div>
<div id="rule"></div>
<footer>&copy; 2026 MattySchnitz Productions</footer>

<script>
const today = "2026-02-14"; // you can update dynamically later

fetch('puzzles.json')
  .then(response => response.json())
  .then(puzzles => {
    const puzzle = puzzles.find(p => p.date === today);
    if(!puzzle){
      document.getElementById('instructions').textContent = "No puzzle for today!";
      return;
    }

    const boardDiv = document.getElementById("board");
    const resultDiv = document.getElementById("result");
    const ruleDiv = document.getElementById("rule");

    puzzle.board.forEach(item => {
      const cell = document.createElement("div");
      cell.className = "cell";
      cell.textContent = item;

      cell.onclick = () => {
        if(item === puzzle.outlier){
          cell.classList.add("correct");
          resultDiv.textContent = "You picked correctly!";
        } else {
          cell.classList.add("wrong");
          resultDiv.textContent = `Wrong! The correct answer was: ${puzzle.outlier}`;
        }

        // reveal the rule after any guess
        ruleDiv.style.display = "block";
        ruleDiv.textContent = "Rule: " + puzzle.rule;

        // disable further clicks
        Array.from(boardDiv.children).forEach(c => c.onclick = null);
      };

      boardDiv.appendChild(cell);
    });
  })
  .catch(err => {
    console.error("Error loading puzzles:", err);
    document.getElementById('instructions').textContent = "Error loading puzzles!";
  });
</script>

</body>
</html>
